<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#f59e0b">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0f1520">
    <meta name="color-scheme" content="dark light">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; font-src 'self'; img-src 'self' data: blob: https://tiles.openfreemap.org https://images.unsplash.com; connect-src 'self' https://*.googleapis.com https://*.firebaseio.com https://*.firebase.com https://tiles.openfreemap.org https://nominatim.openstreetmap.org https://router.project-osrm.org https://overpass-api.de https://*.sentry.io https://*.posthog.com; worker-src 'self' blob:; frame-src https://*.firebaseapp.com;">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="SpotHitch">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- SEO -->
    <title>SpotHitch - La communauté des autostoppeurs | Trouvez les meilleurs spots</title>
    <meta name="description" content="SpotHitch - Trouvez les meilleurs spots d'auto-stop dans le monde. Plus de 37 000 spots dans 170 pays, guides par pays, planificateur de voyage et communauté active.">
    <meta name="keywords" content="autostop, hitchhiking, spots, voyage, backpacking, auto-stop, pouce, routard, aventure, worldwide">
    <meta name="author" content="SpotHitch">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://spothitch.com">
    <link rel="alternate" hreflang="fr" href="https://spothitch.com/?lang=fr">
    <link rel="alternate" hreflang="en" href="https://spothitch.com/?lang=en">
    <link rel="alternate" hreflang="es" href="https://spothitch.com/?lang=es">
    <link rel="alternate" hreflang="de" href="https://spothitch.com/?lang=de">
    <link rel="alternate" hreflang="x-default" href="https://spothitch.com">
    
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://spothitch.com">
    <meta property="og:title" content="SpotHitch - La communauté des autostoppeurs">
    <meta property="og:description" content="Trouvez les meilleurs spots d'auto-stop dans le monde. 37 000+ spots dans 170 pays. Partagez vos expériences et planifiez vos voyages.">
    <meta property="og:image" content="https://spothitch.com/og-image.png">
    <meta property="og:locale" content="fr_FR">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SpotHitch - La communauté des autostoppeurs">
    <meta name="twitter:description" content="37 000+ spots d'auto-stop dans 170 pays. Guides, planificateur et communauté.">
    <meta name="twitter:image" content="https://spothitch.com/screenshot-mobile.png">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon.png">
    
    <!-- Preconnect & Preload -->
    <link rel="dns-prefetch" href="https://nominatim.openstreetmap.org">
    <link rel="dns-prefetch" href="https://router.project-osrm.org">
    <link rel="preconnect" href="https://tiles.openfreemap.org" crossorigin>
    <link rel="preload" href="/fonts/Outfit-latin.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/fonts/SpaceGrotesk-latin.woff2" as="font" type="font/woff2" crossorigin>

    <!-- Critical CSS for First Paint -->
    <style>
        html{font-family:system-ui,-apple-system,sans-serif;background:#0f1520;color:#fff}
        body{margin:0;min-height:100vh;overflow-x:hidden}
        #app-loader{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#0f1520;z-index:9999;transition:opacity .3s}
        #app-loader.hidden{opacity:0;pointer-events:none}
        .loader-spinner{width:48px;height:48px;border:4px solid #1a2332;border-top-color:#f59e0b;border-radius:50%;animation:spin 1s linear infinite}
        @keyframes spin{to{transform:rotate(360deg)}}
        #app{opacity:0;transition:opacity .3s}
        #app.loaded{opacity:1}
        .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    </style>

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "SpotHitch",
        "alternateName": "La communaute des autostoppeurs",
        "url": "https://spothitch.com/",
        "potentialAction": {
            "@type": "SearchAction",
            "target": {
                "@type": "EntryPoint",
                "urlTemplate": "https://spothitch.com/?search={search_term_string}"
            },
            "query-input": "required name=search_term_string"
        },
        "inLanguage": ["fr", "en", "es", "de"]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "SpotHitch",
        "url": "https://spothitch.com/",
        "logo": "https://spothitch.com/icon-512.png",
        "description": "Communaute mondiale des autostoppeurs. Trouvez et partagez les meilleurs spots d'auto-stop.",
        "sameAs": []
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "SpotHitch",
        "alternateName": "La communaute des autostoppeurs",
        "url": "https://spothitch.com/",
        "description": "Trouvez les meilleurs spots d'auto-stop dans le monde. 14 000+ spots dans 137 pays.",
        "applicationCategory": "TravelApplication",
        "operatingSystem": "Any",
        "browserRequirements": "Requires JavaScript",
        "softwareVersion": "2.0",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "EUR"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.5",
            "ratingCount": "100"
        },
        "featureList": "Hitchhiking spot map, Country guides, Trip planner, Community reviews, Offline mode, SOS emergency"
    }
    </script>
</head>
<body>
    <!-- Skip to content link -->
    <a href="#app" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[9999] focus:bg-amber-500 focus:text-white focus:px-4 focus:py-2 focus:rounded-lg">
        Aller au contenu principal
    </a>
    
    <!-- App Loader -->
    <div id="app-loader">
        <div style="text-align:center">
            <div class="loader-spinner" style="margin:0 auto 16px"></div>
            <div style="color:#94a3b8;font-size:14px" id="loader-text">Chargement de SpotHitch...</div>
        </div>
    </div>

    <!-- Timeout fallback -->
    <script>
        setTimeout(function() {
            var loader = document.getElementById('app-loader');
            var app = document.getElementById('app');
            if (loader && !loader.classList.contains('hidden') && (!app || !app.innerHTML)) {
                document.getElementById('loader-text').innerHTML =
                    'Chargement lent...<br><small style="color:#64748b">Vérifiez votre connexion</small>';
            }
        }, 8000);
    </script>

    <noscript>
        <div style="text-align:center;padding:40px;color:#fff">
            <h1>JavaScript requis</h1>
            <p>Activez JavaScript pour utiliser SpotHitch</p>
        </div>
    </noscript>
    
    <!-- ARIA Live Regions -->
    <div id="aria-live-polite" class="sr-only" aria-live="polite" aria-atomic="true"></div>
    <div id="aria-live-assertive" class="sr-only" aria-live="assertive" aria-atomic="true"></div>
    
    <!-- Main App Container -->
    <div id="app" role="main"></div>

    <!-- Main Script -->
    <script type="module" src="/src/main.js"></script>
</body>
</html>
