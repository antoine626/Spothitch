<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manual Freshness Test</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
      color: #e2e8f0;
    }
  </style>
</head>
<body class="p-8">
  <div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold mb-8">Spot Freshness - Manual Test Cases</h1>

    <!-- Test Case 1: GREEN - Recent Review -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h2 class="text-xl font-bold mb-4">Test Case 1: GREEN (Recent Review)</h2>
      <pre class="bg-slate-900 p-4 rounded text-xs mb-4 overflow-x-auto">
{
  id: 1,
  from: "Paris",
  to: "Lille",
  globalRating: 3.88,
  lastUsed: "2024-12-10",  // Recent (2 months ago)
  dangerous: false
}
      </pre>
      <div class="text-sm text-slate-300 mb-2">
        <strong>Expected:</strong> GREEN - Has recent review (< 6 months)
      </div>
      <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-emerald-500/20 text-emerald-400 border border-emerald-500/30">
        <i class="fas fa-check-circle text-xs"></i>
        <span>Fiable</span>
      </span>
    </div>

    <!-- Test Case 2: GREEN - Good Rating -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h2 class="text-xl font-bold mb-4">Test Case 2: GREEN (Good Rating)</h2>
      <pre class="bg-slate-900 p-4 rounded text-xs mb-4 overflow-x-auto">
{
  id: 4,
  from: "Rennes",
  to: "Paris",
  globalRating: 4.80,  // Excellent rating
  lastUsed: "2023-01-15",  // Old date (13 months)
  dangerous: false
}
      </pre>
      <div class="text-sm text-slate-300 mb-2">
        <strong>Expected:</strong> GREEN - High rating (≥ 3.5) overrides old date
      </div>
      <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-emerald-500/20 text-emerald-400 border border-emerald-500/30">
        <i class="fas fa-check-circle text-xs"></i>
        <span>Fiable</span>
      </span>
    </div>

    <!-- Test Case 3: YELLOW - Needs Verification -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h2 class="text-xl font-bold mb-4">Test Case 3: YELLOW (Needs Verification)</h2>
      <pre class="bg-slate-900 p-4 rounded text-xs mb-4 overflow-x-auto">
{
  id: 100,
  from: "Test Spot",
  to: "Somewhere",
  globalRating: 3.0,  // OK rating but not great
  lastUsed: "2024-04-15",  // 10 months ago (between 6-18 months)
  dangerous: false
}
      </pre>
      <div class="text-sm text-slate-300 mb-2">
        <strong>Expected:</strong> YELLOW - Between 6-18 months, needs verification
      </div>
      <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-amber-500/20 text-amber-400 border border-amber-500/30">
        <i class="fas fa-exclamation-circle text-xs"></i>
        <span>À vérifier</span>
      </span>
    </div>

    <!-- Test Case 4: ORANGE - Outdated -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h2 class="text-xl font-bold mb-4">Test Case 4: ORANGE (Outdated)</h2>
      <pre class="bg-slate-900 p-4 rounded text-xs mb-4 overflow-x-auto">
{
  id: 101,
  from: "Old Spot",
  to: "Legacy",
  globalRating: 2.8,  // Low-ish rating
  lastUsed: "2022-06-01",  // 20+ months ago
  dangerous: false
}
      </pre>
      <div class="text-sm text-slate-300 mb-2">
        <strong>Expected:</strong> ORANGE - Very old (18+ months), outdated
      </div>
      <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-500/20 text-orange-400 border border-orange-500/30">
        <i class="fas fa-clock text-xs"></i>
        <span>Ancien</span>
      </span>
    </div>

    <!-- Test Case 5: RED - Dangerous -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h2 class="text-xl font-bold mb-4">Test Case 5: RED (Dangerous)</h2>
      <pre class="bg-slate-900 p-4 rounded text-xs mb-4 overflow-x-auto">
{
  id: 102,
  from: "Dangerous Spot",
  to: "Avoid",
  globalRating: 4.5,  // Even with good rating
  lastUsed: "2024-12-15",  // Even with recent date
  dangerous: true  // DANGEROUS FLAG
}
      </pre>
      <div class="text-sm text-slate-300 mb-2">
        <strong>Expected:</strong> RED - Dangerous flag overrides everything
      </div>
      <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30">
        <i class="fas fa-times-circle text-xs"></i>
        <span>Déconseillé</span>
      </span>
    </div>

    <!-- Test Case 6: RED - Very Low Rating -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h2 class="text-xl font-bold mb-4">Test Case 6: RED (Very Low Rating)</h2>
      <pre class="bg-slate-900 p-4 rounded text-xs mb-4 overflow-x-auto">
{
  id: 103,
  from: "Bad Spot",
  to: "Terrible",
  globalRating: 2.1,  // Very low rating
  lastUsed: "2024-12-15",  // Even with recent date
  dangerous: false
}
      </pre>
      <div class="text-sm text-slate-300 mb-2">
        <strong>Expected:</strong> RED - Rating below 2.5 threshold
      </div>
      <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-500/20 text-red-400 border border-red-500/30">
        <i class="fas fa-times-circle text-xs"></i>
        <span>Déconseillé</span>
      </span>
    </div>

    <!-- Test Case 7: YELLOW - No Date -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h2 class="text-xl font-bold mb-4">Test Case 7: YELLOW (No Date Info)</h2>
      <pre class="bg-slate-900 p-4 rounded text-xs mb-4 overflow-x-auto">
{
  id: 104,
  from: "Unknown Spot",
  to: "Mystery",
  globalRating: 3.2,
  lastUsed: null,  // No date information
  dangerous: false
}
      </pre>
      <div class="text-sm text-slate-300 mb-2">
        <strong>Expected:</strong> YELLOW - No date defaults to needs verification
      </div>
      <span class="inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-amber-500/20 text-amber-400 border border-amber-500/30">
        <i class="fas fa-exclamation-circle text-xs"></i>
        <span>À vérifier</span>
      </span>
    </div>

    <!-- Map Markers Preview -->
    <div class="bg-slate-800 rounded-xl p-6 mb-6 border border-slate-700">
      <h2 class="text-xl font-bold mb-4">Map Markers Preview</h2>
      <div class="flex gap-6 flex-wrap">
        <!-- GREEN marker -->
        <div class="text-center">
          <div class="relative mb-2">
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg" style="background-color: #10b981">
              4.8
            </div>
            <div class="absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rotate-45" style="background-color: #10b981"></div>
          </div>
          <span class="text-xs text-emerald-400 font-semibold">GREEN</span>
          <p class="text-[10px] text-slate-500">Reliable</p>
        </div>

        <!-- YELLOW marker -->
        <div class="text-center">
          <div class="relative mb-2">
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg" style="background-color: #f59e0b">
              3.0
            </div>
            <div class="absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rotate-45" style="background-color: #f59e0b"></div>
          </div>
          <span class="text-xs text-amber-400 font-semibold">YELLOW</span>
          <p class="text-[10px] text-slate-500">Needs verification</p>
        </div>

        <!-- ORANGE marker -->
        <div class="text-center">
          <div class="relative mb-2">
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg" style="background-color: #f97316">
              2.8
            </div>
            <div class="absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rotate-45" style="background-color: #f97316"></div>
          </div>
          <span class="text-xs text-orange-400 font-semibold">ORANGE</span>
          <p class="text-[10px] text-slate-500">Outdated</p>
        </div>

        <!-- RED marker -->
        <div class="text-center">
          <div class="relative mb-2">
            <div class="w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg" style="background-color: #ef4444">
              2.1
            </div>
            <div class="absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 rotate-45" style="background-color: #ef4444"></div>
          </div>
          <span class="text-xs text-red-400 font-semibold">RED</span>
          <p class="text-[10px] text-slate-500">Not recommended</p>
        </div>

        <!-- Small markers (Hitchwiki) -->
        <div class="text-center">
          <div class="relative mb-2 flex items-center justify-center" style="height: 32px;">
            <div class="w-3 h-3 rounded-full border border-white/50 shadow-sm" style="background-color: #10b981"></div>
          </div>
          <span class="text-xs text-emerald-400 font-semibold">Small</span>
          <p class="text-[10px] text-slate-500">Hitchwiki spot</p>
        </div>
      </div>
    </div>

    <!-- Logic Flow Chart -->
    <div class="bg-slate-800 rounded-xl p-6 border border-slate-700">
      <h2 class="text-xl font-bold mb-4">Decision Flow Chart</h2>
      <div class="space-y-3 text-sm">
        <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-3">
          <div class="font-bold text-red-400 mb-1">1. Check for RED flags (highest priority)</div>
          <div class="text-slate-300 text-xs">IF dangerous OR reported OR rating < 2.5 → RED</div>
        </div>
        <div class="text-center text-slate-500 text-2xl">↓</div>
        <div class="bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-3">
          <div class="font-bold text-emerald-400 mb-1">2. Check for GREEN criteria</div>
          <div class="text-slate-300 text-xs">IF recent review (< 6 months) OR rating ≥ 3.5 → GREEN</div>
        </div>
        <div class="text-center text-slate-500 text-2xl">↓</div>
        <div class="bg-orange-500/10 border border-orange-500/30 rounded-lg p-3">
          <div class="font-bold text-orange-400 mb-1">3. Check for ORANGE (very old)</div>
          <div class="text-slate-300 text-xs">IF lastUsed > 18 months ago → ORANGE</div>
        </div>
        <div class="text-center text-slate-500 text-2xl">↓</div>
        <div class="bg-amber-500/10 border border-amber-500/30 rounded-lg p-3">
          <div class="font-bold text-amber-400 mb-1">4. Default to YELLOW</div>
          <div class="text-slate-300 text-xs">Everything else (6-18 months or no date) → YELLOW</div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
